
> 安提戈涅：为什么这么显而易见的事情，我们要去讨论？难道我们不应该拥抱我们的灵魂吗？
> 
> 奥尔弗斯：安妮，难道你不想看看我们的灵魂究竟在哪个彼岸吗？

当我第一次试图证明 $\mathcal P(\mathbb N)$ 与 $\mathbb R$ 之间等势的时候，我发觉，如果我仅仅将 $\mathbb R$ 定义为有利数轴 $(\mathbb Q, \le_\mathbb Q)$ 上所有戴德金分割的集合而完全不引入数位系统的话，要找到 $\mathcal P(\mathbb N)$ 与 $\mathbb R$ 之间的双射其实是很有挑战的。这是我第一次想到一个捷径：如果我可以找到两个函数 $f:\mathcal P(\mathbb N) \to \mathbb R$ 以及 $g: \mathbb R \to \mathcal P(\mathbb N)$，而这两个函数都是单射的话，那么，应该足以说明这两个集合之间存在双射，即，它们是等势的。这个其实就是康托尔-伯恩斯坦-施罗德定理所包含的事实。但是，就如同许多集合论中的定理，它在直观上如此容易被接受，但是，当时我既不知道这个定理，也不知道如何证明它。

在继续讨论之前，我声明一下这篇文章中使用的符号：

1. $A \le_e B$ 表示，存在一个函数 $f: A \to B$ 之为单射；
2. $A <_e B$ 表示 $A \le_e B$ 但是 $\neg(B \le_e A)$；
3. $A \sim_e B$ 表示，存在一个函数 $f: A \to B$ 之为双射，即 $A$ 和 $B$ 等势。

## 陈述及直接推论

#### 施罗德-伯恩斯坦定理（Schröder–Bernstein theorem）

设 $A$ 和 $B$ 为两个集合。如果 $A \le_e B$ 且 $B \le_e A$，那么，$A \sim_e B$。

---

根据该定理，许多关于集合间的等势的问题都变得简单了许多，例如，我在一开始提到的 $\mathcal P(\mathbb N) \sim_e \mathbb R$。并且，它也对基数的定义（以序数的术语）提供了极大的便利。并且，根据该定理，关系 $\le_e$ 是宇宙 $\mathscr U$ 上的一个序（伴随 $\sim_e$ 为这个序的等价关系），也就是说：

1. $\le_e$ 在 $\mathscr U$ 上是自反的：对于任何 $x \in \mathscr U$，我们有 $x \le_e x$；
2. $\le_e$ 在 $\mathscr U$ 上是传递的：对于任何 $x,y,z \in \mathscr U$，如果 $x\le_e y$ 且 $y \le_e z$，那么 $x \le_e x$；
3. $\le_e$ 在 $\mathscr U$ 上是反对称的：对于任何 $x,y \in \mathscr U$，如果 $x \le_e y$ 且 $y \le_e x$，那么 $x \sim_e y$。

$\le_e$ 的反对称性正是施罗德-伯恩斯坦定理所声明的。（当然，必须注意的是，在没有选择公理的情况下，$\le_e$ 无法被展现为一个 $\mathscr U$ 上的全序——纵使这个结论再直观。$\le_e$ 之为全序其实是策梅洛定理的一个结论——它经常是以基数的术语所叙述的。）

该定理的证明是否需要依赖选择公理？起码，就这个形式的施罗德-伯恩斯坦定理而言，其证明是不需要选择公理的参与的。最初，在1887年，康托第一次发表了该定理，但其中并为附带任何证明。此后的大约十年中，戴德金、施罗德、伯恩斯坦等人都对此进行了证明，并且，那些证明都绕开了选择公理。在下面，我介绍一种在我看来较为直观的证明。

## 证明

首先，我简单地介绍一下该定理的证明大纲。

设 $A$ 和 $B$ 为两个集合满足 $A \le_e B$ 且 $B \le_e A$。设 $f: A \to B$ 以及 $g: B \to A$ 为两个单射。设

$$
h = g \circ f: A \xrightarrow{f} f[A] \subseteq B \xrightarrow{g} A.
$$

由此，从下图中，我们看到，符合函数 $h$ 将 $A$ 映射到了它的一个子集 $h[A]$ 中；并且，$h[A] \subseteq g[B]$。

![../_media/Cantor-Schröder–Bernstein theorem/proof-strategy.svg](../_media/Cantor-Schr%C3%B6der%E2%80%93Bernstein%20theorem/proof-strategy.svg)

由于 $f$ 和 $g$ 都是单射，那么，他们的复合函数 $h$ 也是一个单射。因此，$A \sim_e h[A]$。这样，我们就找到了 $A$ 的一个集合 $h[A]$ 与之等势。现在，我们有了这样一个 $\subseteq$-链：

$$
h[A] \subseteq g[B] \subseteq A.
$$

既然 $g$ 是一个单射，那么 $g[B] \sim_e B$。现在，如果我们可以证明，在这个关系下，$g[B] \sim_e A$ 可以被保证，那么，根据 $\sim_e$ 的传递性，我们就可以得到

$$
B \sim_e g[B] \sim A,
$$

从而证明该定理。

### 引理

设 $X$ 和 $X'$ 为两个集合满足 $X' \subseteq X$。如果 $X \sim_e X'$ 那么，对于任何 $Y$，如果
$$
X' \subseteq Y \subseteq X,
$$
那么 $Y \sim_e X$。

**证明：**


既然 $X' \subseteq X$，要么 $X' = X$，要么 $X' \subset X$。如果 $X'= X$ 的话，那么，证明其实已经结束了。因此，假设 $X' \subset X$，并且设 $Y$ 为一个集合满足 $X' \subseteq Y \subseteq X$。

设 $f: X \to Y$ 为一个单射；并且，既然 $X \sim_e X$，我们可以假设 $f$ 满足 $f[X] = X'$。（确实，这种情况是存在的，因为，我们至少能找到一个这样的类型 $X$，可以被一一对应地映射到它的某个真子集 $X'$ 上；例如，$X = \mathbb N$ 而 $X' = \{2n: n \in \mathbb N\}$。）

这个引理的证明只存在一个难点。我们需要考虑函数 $f: X \to Y$ 可能不是一个满射的情况。由此，我们需要通过 $f$ 的术语，定义一个函数 $g$，使得 $g: X \to Y$ 是一个双射。

![../_media/Cantor-Schröder–Bernstein theorem/ring-in-proof.svg](../_media/Cantor-Schr%C3%B6der%E2%80%93Bernstein%20theorem/ring-in-proof.svg)

假设 $f$ 不是一个满射。这个时候，$Y \setminus f[X]$ 并不是一个空集。由此，在上图中，我们可以看到，$Y \setminus f[X]$ 形成了一个 $f[X]$ 外的一个环状图像。如果我们将这个环再次通过 $f$ 映射到 $X$ 中，便会进而得到 $f[X]$ 中的一个环状图像 $f[X \setminus Y]$。进而，如图所示，我们会得到一个序列的环：

$$
\mathcal R = \left\{
\begin{aligned}
R_0 &=  X \setminus Y, \\
R_1 &= f[R_0], \\
R_2 &= f[R_1], \\
R_3 &= f[R_2], \\
& \vdots
\end{aligned}
\right\}.
$$

从图中，不难发现，$\bigcup \mathcal R \subset Y$，并且，$Y \setminus \bigcup \mathcal R$ 同样留下来了由一个个环组成的图像。由此，如果设 $g: X \to Y$ 为一个函数，并且定义它为

$$
g(x) =
\begin{cases}
f(x) &: x \in \bigcup \mathcal R \\
x &: x \notin \bigcup \mathcal R
\end{cases}
$$

那么，$g$ 便是一个 $X$ 到 $Y$ 的双射。下面，我们来验证这个结论。

首先，我们需要验证一个从图上看十分直观的结论：对于任何 $j,k \in \mathbb N$，如果 $j \ne k$，那么 $R_j \cap R_k = \emptyset$。

由于 $f$ 是一个从 $X$ 映射到其自身子集的函数，因此，

$$
\cdots \subseteq f^3 [X] \subseteq f^2[X] \subseteq f^1[X] \subseteq f^0[X].
$$

设 $j,k \in \mathbb N$ 满足 $j \ne k$。首先，我们假设 $k < j$。由于 $R_j \subseteq f^j [X] \subseteq f^k[Y]$ 以及 $R_k = f^k[X] \setminus f^k[Y]$，我们得到
$$
R_j \cap R_k \subseteq (f^{k}[X] \setminus f^k[Y]) \cap f^k[Y] = \emptyset.
$$

$j < k$ 的情况与此类似，我就不在此赘述了。

因此，整个序列 $\mathcal R$ 中的元素是互不相交的。也因此，对于任何 $i \in \mathbb N$ 以及 $x \in X$，如果 $x \in R_i$，那么 $f(x) \notin R_i$。（在下面的过程中，我们需要小心地辨别何时我们需要这个结论。）

现在，我们来验证 $g$ 是否是一个双射。

设 $y \in Y$。如果 $y \notin \bigcup \mathcal R$，那么，由于 $y \in X$，我们有 $g(y) = y$。因此，假设 $y \in \bigcup \mathcal R$。由于 $y \in Y$，因此 $y \in Y \cap \bigcup \mathcal R \subseteq f[X]$。进而，$y \in f[X]$。这说明，一定存在一个 $x \in X$，使得 $f(x) = y$；并且，这个 $x \in \bigcup \mathcal R$，否则的话，$x = y$ 导致 $y \notin \bigcup \mathcal R$，从而产生了悖论。因此，$g$ 是一个满射。

设 $x,x' \in X$ 满足 $x \ne x'$。这里，我们需要考虑三种情况：

1. $x \in \bigcup \mathcal R$ 且 $x' \in \bigcup \mathcal R$；
2. $x \notin \bigcup \mathcal R$ 且 $x' \notin \bigcup \mathcal R$；
3. $x \in \bigcup \mathcal R$ 且 $x' \notin \bigcup \mathcal R$。

在情况 1 中，由于 $f$ 是一个单射，因此 $f(x) \ne f(x')$。在情况 2 中，$g(x) \ne x'$ 直接由于 $x \ne x'$。因此，我们考虑情况 3。这个情况下，$f(x) \in \bigcup \mathcal R$，否则，$f(x) = x$ 导致 $x \notin \bigcup \mathcal R$。由于 $x' \notin \bigcup \mathcal R$，我们有 $f(x') = x' \notin \bigcup \mathcal R$。因此，$f(x) \ne f(x')$。

由此，$g$ 是一个单射。

既然 $g: X \to Y$ 既是一个单射又是一个满射，那么它是一个双射；从而，$X \sim_e Y$。

$\blacksquare$

我们将上述结论插入到证明大纲中去，便可以直接完成该定理的证明。

## 施罗德-伯恩斯坦定理是否可以被推广到类型关系上？

在我最初证明施罗德-伯恩斯坦定理的时候，其实是遇到了一个问题，那就是：根据 MK 中的尺寸限制公理（the axiom of limitation of size），一个类型 $X$ 之为真类型（即，不是一个集合）当且仅当存在一个函数 $f: \mathscr U \to X$ 之为单射。我直观地认为，这个时候，宇宙 $\mathscr U$ 和真类型 $X$ 之间一定存在一个双射 $b: \mathscr U \to X$。但是，要证明这个观点，我们就必须将施罗德-伯恩斯坦定理是可以被推广到任意两个类型之间的，也就是：对于任何类型 $A$ 和 $B$（不论它们是不是集合），如果 $A \le_e B$ 且 $B \le_e A$，那么 $A \sim_e B$。

但是，如果我们将上述证明中的“集合”全部替换为“类型”，那么，这个证明将会是不合理的。就算我们避免定义序列 $\mathcal R$，而只说，对于任何 $i \in \mathbb N$，$R_i$ 是一个类型（不论是不是集合）满足 $R_i = f^i[X \setminus Y]$，这时，我们依然会遇到一个问题：我们凭什么将 $\mathbb N$ 作为一系列不一定是集合的类型 $R_0, R_1, R_2, \ldots$ 的索引类型？要知道，索引类型的存在本身是函数定义的一个衍生。如果我们说一个类型 $I$（不管它是不是集合）是某些类型 $C_\alpha, C_\beta, C_\gamma, \ldots$ 的索引类型，那么，这就意味着，我们承认存在一个函数 $\varphi: I \to \mathcal C$ 之为一个索引函数；这时，如果存在某个 $i \in I$ 使得 $C_i$ 不是一个集合，那么，不论是在 NBG 还是中，$\mathcal C$ 都无法是一个类型。这也是为什么，任意并和任意交无法被定义于任意多个真类型之间。

因此，起码根据上述证明，我们无法将施罗德-伯恩斯坦定理推广到类型关系上。如果，我们接受一个可以以真类为元素的更广大的“集合论”，或者，接受选择公理，并在证明过程中避免制造 $\mathcal R$ 这样的类型，那么，这种推广会变得简单很多——起码，在这两种情况下，推广是可能的。对此，我就不在这篇文章中展开叙述了。